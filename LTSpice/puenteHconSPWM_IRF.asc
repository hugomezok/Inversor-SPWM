Version 4
SHEET 1 1076 680
WIRE -1360 -640 -1584 -640
WIRE -1184 -640 -1280 -640
WIRE -688 -640 -1184 -640
WIRE -1424 -576 -1472 -576
WIRE -1296 -576 -1360 -576
WIRE -1184 -576 -1184 -640
WIRE -512 -576 -544 -576
WIRE -400 -576 -448 -576
WIRE -2432 -560 -2432 -592
WIRE -2144 -560 -2144 -592
WIRE -688 -560 -688 -640
WIRE -1472 -496 -1472 -576
WIRE -1472 -496 -1504 -496
WIRE -1424 -496 -1472 -496
WIRE -1296 -496 -1296 -576
WIRE -1296 -496 -1344 -496
WIRE -1232 -496 -1296 -496
WIRE -544 -480 -544 -576
WIRE -544 -480 -640 -480
WIRE -512 -480 -544 -480
WIRE -400 -480 -400 -576
WIRE -400 -480 -432 -480
WIRE -352 -480 -400 -480
WIRE -2432 -432 -2432 -480
WIRE -2144 -432 -2144 -480
WIRE -1584 -432 -1584 -640
WIRE -1184 -368 -1184 -480
WIRE -1088 -368 -1184 -368
WIRE -688 -368 -688 -464
WIRE -688 -368 -816 -368
WIRE -1424 -288 -1456 -288
WIRE -1312 -288 -1360 -288
WIRE -512 -288 -544 -288
WIRE -400 -288 -448 -288
WIRE -1184 -272 -1184 -368
WIRE -688 -272 -688 -368
WIRE -2432 -240 -2432 -304
WIRE -2080 -240 -2080 -304
WIRE -1456 -192 -1456 -288
WIRE -1456 -192 -1504 -192
WIRE -1424 -192 -1456 -192
WIRE -1312 -192 -1312 -288
WIRE -1312 -192 -1344 -192
WIRE -1232 -192 -1312 -192
WIRE -544 -192 -544 -288
WIRE -544 -192 -640 -192
WIRE -512 -192 -544 -192
WIRE -400 -192 -400 -288
WIRE -400 -192 -432 -192
WIRE -352 -192 -400 -192
WIRE -2432 -112 -2432 -160
WIRE -2080 -112 -2080 -160
WIRE -1584 -80 -1584 -352
WIRE -1184 -80 -1184 -176
WIRE -1184 -80 -1584 -80
WIRE -688 -80 -688 -176
WIRE -688 -80 -1184 -80
WIRE -2432 96 -2432 32
WIRE -2080 96 -2080 32
WIRE -880 128 -944 128
WIRE -736 128 -800 128
WIRE -576 128 -736 128
WIRE -944 144 -944 128
WIRE -736 160 -736 128
WIRE -576 160 -576 128
WIRE -2432 224 -2432 176
WIRE -2080 224 -2080 176
WIRE -944 272 -944 224
WIRE -848 272 -944 272
WIRE -736 272 -736 224
WIRE -736 272 -848 272
WIRE -576 272 -576 240
WIRE -576 272 -736 272
WIRE -848 304 -848 272
FLAG -2432 -432 0
FLAG -2144 -432 0
FLAG -2432 -592 Vsin
FLAG -2144 -592 Vtri
FLAG -2432 -112 0
FLAG -2080 -112 0
FLAG -2432 -304 AP
FLAG -2080 -304 AM
FLAG -2432 224 0
FLAG -2080 224 0
FLAG -2432 32 BP
FLAG -2080 32 BM
FLAG -1088 -368 VA
FLAG -816 -368 VB
FLAG -848 304 0
FLAG -736 128 Vout
FLAG -1504 -496 AP
FLAG -352 -480 BP
FLAG -352 -192 BM
FLAG -1504 -192 AM
SYMBOL voltage -2432 -576 R0
WINDOW 3 -93 182 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 12 50)
SYMATTR InstName V1
SYMBOL voltage -2144 -576 R0
WINDOW 3 -173 177 Left 2
SYMATTR Value PWL REPEAT FOREVER (0 -12 50u 12 100u -12) ENDREPEAT
SYMATTR InstName V2
SYMATTR Prefix ""
SYMBOL bv -2432 -256 R0
WINDOW 0 -59 15 Left 2
WINDOW 3 -134 182 Left 2
SYMATTR InstName B1
SYMATTR Value V=if( V(Vtri)> V(Vsin),12,0)
SYMBOL bv -2080 -256 R0
WINDOW 0 -59 15 Left 2
WINDOW 3 -134 182 Left 2
SYMATTR InstName B2
SYMATTR Value V=if( V(Vtri)> V(Vsin),0,12)
SYMBOL bv -2432 80 R0
WINDOW 0 -59 15 Left 2
WINDOW 3 -134 182 Left 2
SYMATTR InstName B3
SYMATTR Value V=if( V(Vtri)> -V(Vsin),12,0)
SYMBOL bv -2080 80 R0
WINDOW 0 -59 15 Left 2
WINDOW 3 -134 182 Left 2
SYMATTR InstName B4
SYMATTR Value V=if( V(Vtri)> -V(Vsin),0,12)
SYMBOL voltage -1584 -448 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 12
SYMBOL res -1264 -656 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1
SYMBOL nmos -1232 -576 R0
SYMATTR InstName M1
SYMATTR Value IRF1405
SYMBOL ind -896 144 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {Lfiltro}
SYMBOL cap -752 160 R0
SYMATTR InstName C1
SYMATTR Value 2.2µ
SYMBOL bv -944 128 R0
SYMATTR InstName B5
SYMATTR Value V=V(VA)-V(VB)
SYMBOL nmos -1232 -272 R0
SYMATTR InstName M2
SYMATTR Value IRF1405
SYMBOL nmos -640 -272 M0
SYMATTR InstName M3
SYMATTR Value IRF1405
SYMBOL nmos -640 -560 M0
SYMATTR InstName M4
SYMATTR Value IRF1405
SYMBOL res -1328 -512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 4.7
SYMBOL res -1328 -208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 47
SYMBOL res -416 -208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 4.7
SYMBOL res -416 -496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 4.7
SYMBOL diode -512 -560 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL diode -512 -272 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMBOL diode -1360 -304 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMBOL diode -1360 -592 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D4
SYMBOL res -592 144 R0
SYMATTR InstName Rcarga
SYMATTR Value 10K
TEXT -1472 24 Left 2 !.tran 0 1.1 1 0.01
TEXT -1552 64 Left 2 !.step param Lfiltro list 100u 500u 1m
